new Vue({el:"#writePage",data:{title:"",imageUrl:"",editor:""},created:function(){this.createEditor()},mounted:function(){this.transformImg()},methods:{createEditor:function(){var e=window.wangEditor;this.editor=new e("#editor"),this.editor.customConfig.uploadImgShowBase64=!0,this.editor.create()},transformImg:function(){var n=this,e=document.getElementById("fileSelect"),t=document.getElementById("upload_file");e.addEventListener("click",function(e){t&&t.click(),e.preventDefault()},!1),$("#upload_file").on("change",function(e){var t=e.target.files[0],i=new FileReader;i.readAsDataURL(t),i.onloadend=function(){var e=i.result;n.imageUrl=e}})},comfirm:function(){if(!this.title.length)return this.$message({message:"请输入文章标题",type:"warning"}),!1;var e=this.editor.txt.html();if("<p><br></p>"==e)return this.$message({message:"请输入文章内容",type:"warning"}),!1;this.title,this.imageUrl}}});