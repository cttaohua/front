(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16604431"],{"11e9":function(t,e,n){var a=n("52a7"),o=n("4630"),s=n("6821"),r=n("6a99"),i=n("69a8"),c=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=s(t),e=r(e,!0),c)try{return l(t,e)}catch(n){}if(i(t,e))return o(!a.f.call(t,e),t[e])}},5340:function(t,e,n){"use strict";var a=n("f6a5"),o=n.n(a);o.a},"5dbc":function(t,e,n){var a=n("d3f4"),o=n("8b97").set;t.exports=function(t,e,n){var s,r=e.constructor;return r!==n&&"function"==typeof r&&(s=r.prototype)!==n.prototype&&a(s)&&o&&o(t,s),t}},"6a91":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"common-page",attrs:{id:"impeldownPage"}},[n("a-alert",{staticClass:"alert",attrs:{message:t.remind,type:"error"}}),n("a-card",{staticClass:"panel",attrs:{title:"示例一：简单应用"}},[n("div",{staticClass:"code-box-demo"},[n("simple")],1),n("div",{staticClass:"code-box-meta"},[n("h4",[t._v("小文件 53KB")]),n("p",[t._v("因为文件较小，所以这种情况下可能不需要监控进度，直接下载就好了")]),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[n("span",[t._v("show code")])]),n("a-icon",{staticClass:"code-expand-icon",attrs:{type:"code"},on:{click:function(e){t.code1Flag=!t.code1Flag}}})],2)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.code1Flag,expression:"code1Flag"}],staticClass:"highlight-wrapper"},[n("pre",[t._v("        "),n("code",[t._v("\n          "+t._s(t.code1Text)+"\n       ")]),t._v("\n      ")])])]),n("a-card",{staticClass:"panel",attrs:{title:"示例二：完整应用"}},[n("div",{staticClass:"code-box-demo"},[n("complex")],1),n("div",{staticClass:"code-box-meta"},[n("h4",[t._v("中型文件 2.9MB")]),n("p",[t._v("可以清晰的看到进度条的变化")]),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[n("span",[t._v("show code")])]),n("a-icon",{staticClass:"code-expand-icon",attrs:{type:"code"},on:{click:function(e){t.code2Flag=!t.code2Flag}}})],2)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.code2Flag,expression:"code2Flag"}],staticClass:"highlight-wrapper"},[n("pre",[t._v("        "),n("code",[t._v("\n          "+t._s(t.code2Text)+"\n       ")]),t._v("\n      ")])])])],1)},o=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"impel-simple"},[n("div",[n("img",{staticClass:"example-img",attrs:{src:t.load_url,alt:""}})]),n("a-button",{staticClass:"btn-download",attrs:{type:"danger",icon:"download",size:"large"},nativeOn:{click:function(e){return t.download(e)}}},[t._v("下载")])],1)},r=[];function i(t){t=t||12;for(var e="",n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],a=0;a<t;a++){var o=Math.ceil(35*Math.random());e+=n[o]}return e}function c(t,e){let n=t.lastIndexOf("/")+1,a=t.slice(n,t.length);if(-1!=a.indexOf("."))return a;{let t=e.type.split("/")[1];return i(8)+"."+t}}class l{constructor(t){try{if(!t)throw new Error("No parameters！");if("string"===typeof t)this.params={url:t},this.createXML();else{if("object"!==typeof t)throw new Error("The argument is expected to be in the format of a string or object！");if(!t.url)throw new Error("The url is a required parameter！");this.params=t,this.createXML()}}catch(e){console.error(e)}}createXML(){let t=this.params.url,e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="blob",e.onreadystatechange=()=>{if(4===e.readyState&&200===e.status){let t="";if(t=this.params.name?this.params.name:c(this.params.url,e.response),"undefined"!==typeof window.chrome){let n=document.createElement("a");n.href=window.URL.createObjectURL(e.response),n.download=t,n.click()}else if("undefined"!==typeof window.navigator.msSaveBlob){let n=new Blob([e.response],{type:"application/force-download"});window.navigator.msSaveBlob(n,t)}else{let n=new File([e.response],t,{type:"application/force-download"});window.open(URL.createObjectURL(n))}}},e.send(null),this.onStart.call(this),e.addEventListener("progress",this.onProgress.bind(this),!1),e.addEventListener("abort",this.onAbort.bind(this),!1),e.addEventListener("load",this.onSuccess.bind(this),!1),e.addEventListener("loadend",this.onComplete.bind(this),!1)}onStart(){this.params.onStart&&this.params.onStart()}onProgress(t){if(this.params.onProgress&&t.lengthComputable){let e=t.loaded/t.total;this.params.onProgress(e)}}onAbort(){this.params.onAbort&&this.params.onAbort()}onError(){this.params.onError&&this.params.onError()}onSuccess(){this.params.onSuccess&&this.params.onSuccess(),this.params.onProgress&&this.params.onProgress(1)}onComplete(){this.params.onComplete&&this.params.onComplete()}}window.impeldown=l;var d=l,p=d,u=n("8b96"),f={data:function(){return{load_url:u}},methods:{download:function(){new p(this.load_url)}}},m=f,h=(n("5340"),n("2877")),g=Object(h["a"])(m,s,r,!1,null,"d900a8c4",null),v=g.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"impel-complex"},[n("div",[n("img",{staticClass:"example-img",attrs:{src:t.load_url,alt:""}})]),n("div",{staticClass:"progress"},[n("a-progress",{attrs:{percent:t.schedule,status:"success"}})],1),n("a-button",{staticClass:"btn-download",attrs:{type:"danger",icon:"download",size:"large",loading:t.loading,disabled:t.disabled},nativeOn:{click:function(e){return t.download(e)}}},[t._v("下载")])],1)},b=[],_=(n("c5f6"),n("8150")),x={data:function(){return{load_url:_,schedule:0,loading:!1,disabled:!1}},methods:{download:function(){var t=this;new p({url:this.load_url,name:"美女.gif",onStart:function(){t.loading=!0},onProgress:function(e){t.schedule=Number((100*e).toFixed(2))},onSuccess:function(){t.$message.success("下载完成")},onComplete:function(){t.loading=!1,t.disabled=!0}})}}},y=x,C=(n("e653"),Object(h["a"])(y,w,b,!1,null,"50537652",null)),E=C.exports,N=n("1487"),S=n.n(N),F={data:function(){return{remind:"本示例采用ant-design-vue UI框架，示例中所用到的下载url为个人站点资源，如有侵权，请联系告知",code1Text:"",code2Text:"",code1Flag:!1,code2Flag:!1,script:"<script>"}},components:{simple:v,complex:E},created:function(){this.init()},mounted:function(){this.high()},methods:{init:function(){this.code1Text='\n         <template>\n          <div class="impel-simple">\n            <div>\n              <img class="example-img" :src="load_url" alt="">\n            </div>\n            <a-button class="btn-download" type="danger" icon="download"\n            size="large" @click.native="download">下载</a-button>\n          </div>\n        </template>\n        '.concat(this.script,"\n        import impeldown from 'impeldown'\n        export default {\n          data () {\n            return {\n              load_url: '下载url'\n            }\n          },\n          methods: {\n            download () {\n              new impeldown(this.load_url)\n            }\n          }\n        }\n        ").concat(this.script,"\n      "),this.code2Text='\n         <template>\n          <div class="impel-complex">\n            <div>\n              <img class="example-img" :src="load_url" alt="">\n            </div>\n            <div class="progress">\n              <a-progress :percent="schedule" status="success"/>\n            </div>\n            <a-button class="btn-download" type="danger" icon="download"\n            size="large" :loading="loading" :disabled="disabled"\n            @click.native="download">下载</a-button>\n          </div>\n        </template>\n        '.concat(this.script,"\n        import impeldown from 'impeldown'\n        export default {\n        data () {\n          return {\n            load_url: '下载url',\n            schedule: 0,\n            loading: false,\n            disabled: false\n          }\n        },\n        methods: {\n          download () {\n            let _this = this\n            new impeldown({\n              url: this.load_url,\n              name: '美女.gif',\n              onStart () {\n                _this.loading = true\n              },\n              onProgress (p) {\n                _this.schedule = Number((p * 100).toFixed(2))\n              },\n              onSuccess () {\n                _this.$message.success('下载完成')\n              },\n              onComplete () {\n                _this.loading = false\n                _this.disabled = true\n              }\n            })\n          }\n        }\n      }\n      ").concat(this.script,"\n      ")},high:function(){S.a.initHighlightingOnLoad()}}},I=F,O=(n("d08d"),Object(h["a"])(I,a,o,!1,null,"aea19a4a",null));e["default"]=O.exports},7539:function(t,e,n){},8150:function(t,e,n){t.exports=n.p+"img/girl.f502efad.gif"},"8b96":function(t,e,n){t.exports=n.p+"img/hongfen.7810520e.jpg"},"8b97":function(t,e,n){var a=n("d3f4"),o=n("cb7c"),s=function(t,e){if(o(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return s(t,n),e?t.__proto__=n:a(t,n),t}}({},!1):void 0),check:s}},9093:function(t,e,n){var a=n("ce10"),o=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,o)}},aa77:function(t,e,n){var a=n("5ca1"),o=n("be13"),s=n("79e5"),r=n("fdef"),i="["+r+"]",c="​",l=RegExp("^"+i+i+"*"),d=RegExp(i+i+"*$"),p=function(t,e,n){var o={},i=s(function(){return!!r[t]()||c[t]()!=c}),l=o[t]=i?e(u):r[t];n&&(o[n]=l),a(a.P+a.F*i,"String",o)},u=p.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(d,"")),t};t.exports=p},c5f6:function(t,e,n){"use strict";var a=n("7726"),o=n("69a8"),s=n("2d95"),r=n("5dbc"),i=n("6a99"),c=n("79e5"),l=n("9093").f,d=n("11e9").f,p=n("86cc").f,u=n("aa77").trim,f="Number",m=a[f],h=m,g=m.prototype,v=s(n("2aeb")(g))==f,w="trim"in String.prototype,b=function(t){var e=i(t,!1);if("string"==typeof e&&e.length>2){e=w?e.trim():u(e,3);var n,a,o,s=e.charCodeAt(0);if(43===s||45===s){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+e}for(var r,c=e.slice(2),l=0,d=c.length;l<d;l++)if(r=c.charCodeAt(l),r<48||r>o)return NaN;return parseInt(c,a)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof m&&(v?c(function(){g.valueOf.call(n)}):s(n)!=f)?r(new h(b(e)),n,m):b(e)};for(var _,x=n("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;x.length>y;y++)o(h,_=x[y])&&!o(m,_)&&p(m,_,d(h,_));m.prototype=g,g.constructor=m,n("2aba")(a,f,m)}},d08d:function(t,e,n){"use strict";var a=n("d65a"),o=n.n(a);o.a},d65a:function(t,e,n){},e653:function(t,e,n){"use strict";var a=n("7539"),o=n.n(a);o.a},f6a5:function(t,e,n){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-16604431.daba55b5.js.map